(window.webpackJsonp=window.webpackJsonp||[]).push([[18],{382:function(t,e,a){"use strict";a.r(e);var r=a(27),n=Object(r.a)({},(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[a("h1",{attrs:{id:"migrate-continuous-integration-from-travis-ci-to-github-action"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#migrate-continuous-integration-from-travis-ci-to-github-action"}},[t._v("#")]),t._v(" Migrate Continuous Integration From Travis CI to GitHub Action")]),t._v(" "),a("h5",{attrs:{id:"date-2021-july-21"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#date-2021-july-21"}},[t._v("#")]),t._v(" Date: 2021/July/21")]),t._v(" "),a("br"),t._v(" "),a("hr"),t._v(" "),a("p",[t._v("在這個筆記荒廢了很長一段時間以後，看著 "),a("em",[t._v("GitHub dependabot")]),t._v(" 滿滿的 "),a("em",[t._v("Pull Request")]),t._v(" 通知，")]),t._v(" "),a("p",[t._v("深深覺得該好好更新一下相依套件了，才發現原本透過 Travis 串好的 CI 壞掉啦。")]),t._v(" "),a("p",[a("img",{attrs:{src:"/images/2021/july/b9e91ac7cb1c9baf46e78a81ad14e748303d13239b58b76ee71fb1de8db89563.png",alt:"",title:"Full of pull requests made by dependabot"}})]),t._v(" "),a("p",[t._v("原本以為是更新套件的問題，不過詳細看了錯誤訊息是授權失敗。")]),t._v(" "),a("p",[a("img",{attrs:{src:"/images/2021/july/d3092969eb40e1a257c2717e26d3a01cc143ac727cf548334814d9e8c3711438.jpg",alt:"",title:"Failed builds on travis-ci.com"}})]),t._v(" "),a("p",[t._v("看了字面上的意思，以及想到 GitHub 在今年5月份的時候有"),a("a",{attrs:{href:"https://github.blog/2021-04-05-behind-githubs-new-authentication-token-formats/",title:"Behind GitHub’s new authentication token formats",target:"_blank",rel:"noopener noreferrer"}},[t._v("對 Authentication token 進行更新"),a("OutboundLink")],1),t._v("，"),a("br"),t._v("\n於是我也跑去刷新了一下 "),a("em",[t._v("Personal Access Token")]),t._v(" (確保 Travis CI 有權限可以部署)，結果還是失敗......")]),t._v(" "),a("p",[t._v("後來發現原來是因應之前的"),a("a",{attrs:{href:"https://blog.travis-ci.com/2020-11-02-travis-ci-new-billing",title:"The new pricing model for travis-ci.com",target:"_blank",rel:"noopener noreferrer"}},[t._v("計費模式調整"),a("OutboundLink")],1),t._v("，要先去後台選擇好方案後才能繼續跑部署腳本。")]),t._v(" "),a("p",[t._v("原本的設定頁面大大的紅字沒有截到圖，不過基本上就是要你選方案：")]),t._v(" "),a("p",[a("img",{attrs:{src:"/images/2021/july/d9ade7f64ff681cae9282cd0eb6c8dda0c69bd0133a0621faa5a5524f986f3ad.png",alt:"",title:"Monthly Plans on Travis CI"}})]),t._v(" "),a("p",[t._v("要注意的是點數用完就沒了，不會再生，只能透過付費取得。")]),t._v(" "),a("p",[a("img",{attrs:{src:"/images/2021/july/5bc21b278a08ae2e9575816aa7f278f2215a698f0e57194471efc85588358bf2.png",alt:"",title:"Free Plan offers 10,000 credits which will not be replenished automatically. Pay amigo, pay."}})]),t._v(" "),a("p",[t._v("調整到這裡，部落格的自動發版復活了。但是我也開始想將 CI 轉換到我在公司使用的 GitHub Action 上了。")]),t._v(" "),a("p",[t._v("相較於 Travis 的終生額度制， GitHub Action 目前採用"),a("a",{attrs:{href:"https://docs.github.com/en/billing/managing-billing-for-github-actions/about-billing-for-github-actions",title:"About billing for GitHub Actions",target:"_blank",rel:"noopener noreferrer"}},[t._v("每月分鐘數的額度"),a("OutboundLink")],1),t._v("，新的一個月會刷新額度看起來比較誘人。 "),a("s",[t._v("當然微軟爸爸比較罩也是個原因。")])]),t._v(" "),a("p",[a("img",{attrs:{src:"/images/2021/july/eee487c7cb18a105705ff7e1457eb79e91123f05f45bdf33f8937250fa962611.png",alt:"",title:"GitHub Action plan comparisons"}})]),t._v(" "),a("hr"),t._v(" "),a("h2",{attrs:{id:"references"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#references"}},[t._v("#")]),t._v(" References")]),t._v(" "),a("br"),t._v(" "),a("h4",{attrs:{id:"其他參考資料"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#其他參考資料"}},[t._v("#")]),t._v(" 其他參考資料")]),t._v(" "),a("p",[t._v("Heather Harvey (2021/Apr/05). "),a("a",{attrs:{href:"https://github.blog/2021-04-05-behind-githubs-new-authentication-token-formats/",target:"_blank",rel:"noopener noreferrer"}},[t._v("Behind GitHub’s new authentication token formats"),a("OutboundLink")],1),t._v(". GitHub Blog.")]),t._v(" "),a("p",[t._v("Gea-Suan Lin (2020/DEC/13). "),a("a",{attrs:{href:"https://blog.gslin.org/archives/2020/12/13/9878/travis-ci-%E5%81%9C%E6%AD%A2%E6%8F%90%E4%BE%9B%E6%9C%8D%E5%8B%99%E7%B5%A6-open-source-%E5%B0%88%E6%A1%88/",target:"_blank",rel:"noopener noreferrer"}},[t._v("Travis CI 停止提供服務給 Open Source 專案"),a("OutboundLink")],1),t._v(". Gea-Suan Lin's BLOG.")]),t._v(" "),a("p",[t._v("Jeff Geerling (2020/DEC/05). "),a("a",{attrs:{href:"https://www.jeffgeerling.com/blog/2020/travis-cis-new-pricing-plan-threw-wrench-my-open-source-works",target:"_blank",rel:"noopener noreferrer"}},[t._v("Travis CI's new pricing plan threw a wrench in my open source works"),a("OutboundLink")],1),t._v(". jeffgeerling Blog.")])])}),[],!1,null,null,null);e.default=n.exports}}]);